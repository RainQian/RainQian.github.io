---
layout:     post
title:      数据库中元数据提取|MySQL
subtitle:   MySQL、SQLServer、Oracle、DB2和Hive数据库中元数据提取
date:       2019-09-03
author:     Arain
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - DB
    - Metadata
    - Data Warehouse
---

# 数据库中元数据提取|MySQL

## 什么是元数据

元数据(Metadata)是关于数据的数据。在数据仓库(Data Warehouse)系统中，元数据可以帮助数据仓库管理员和数据仓库的开发人员非常方便地找到他们所关心的数据；元数据是描述数据仓库内数据的结构和建立方法的数据，可将其按用途的不同分为两类：技术元数据(Technical Metadata)和业务元数据(Business Metadata)。

下文将分别介绍如何中MySQL、SQLServer、Oracle、DB2和Hive数据库的系统表中获取关于表、列、存储过程和函数相关的元数据元数据。

## MySQL

### information_schema

在 MySQL中，把 information_schema 看作是一个数据库，确切说是信息数据库。其中保存着关于MySQL服务器所维护的所有其他数据库的信息。如数据库名，数据库的表，表栏的数据类型与访问权限等。在INFORMATION_SCHEMA中，有数个只读表。它们实际上是视图，而不是基本表，因此，你将无法看到与之相关的任何文件。

#### SCHEMATA

提供了当前mysql实例中所有数据库的信息。是show databases的结果取之此表。

#### TABLES
提供了关于数据库中的表的信息（包括视图）。详细表述了某个表属于哪个schema，表类型，表引擎，创建时间等信息。是show tables from schemaname的结果取之此表。 

#### COLUMNS
提供了表中的列信息。详细表述了某张表的所有列以及每个列的信息。是show columns from schemaname.tablename的结果取之此表。 
| 编号 | 列面                     | 释意                                                         |
| ---- | ------------------------ | ------------------------------------------------------------ |
| 1    | TABLE_CATALOG            |                                                              |
| 2    | TABLE_SCHEMA             | 数据库名称                                                   |
| 3    | TABLE_NAME               | 表名                                                         |
| 4    | COLUMN_NAME              | 列名                                                         |
| 5    | ORDINAL_POSITION         |                                                              |
| 6    | COLUMN_DEFAULT           | 默认取值                                                     |
| 7    | IS_NULLABLE              | 取值是否可以为null                                           |
| 8    | DATA_TYPE                | 数据类型                                                     |
| 9    | CHARACTER_MAXIMUM_LENGTH | 字符类型的最大长度，不是字符类型时取值为null                 |
| 10   | CHARACTER_OCTET_LENGTH   |                                                              |
| 11   | NUMERIC_PRECISION        | 数字类型的精度（长度）                                       |
| 12   | NUMERIC_SCALE            | 数字类型的小数位数                                           |
| 13   | DATETIME_PRECISION       | 事件类型精度                                                 |
| 14   | CHARACTER_SET_NAME       | 字符集                                                       |
| 15   | COLLATION_NAME           | 排序规则                                                     |
| 16   | COLUMN_TYPE              | 列类型，例如varchar(50)。DATA_TYPE和CHARACTER_MAXIMUM_LENGTH的整合 |
| 17   | COLUMN_KEY               | 键，取值可为UNI、PRI、MUL和空字符串                          |
| 18   | EXTRA                    |                                                              |
| 19   | PRIVILEGES               |                                                              |
| 20   | COLUMN_COMMENT           | 注释                                                         |
| 21   | GENERATION_EXPRESSION    |                                                              |

#### STATISTICS
提供了关于表索引的信息。是show index from schemaname.tablename的结果取之此表。 
#### USER_PRIVILEGES（用户权限）
给出了关于全程权限的信息。该信息源自mysql.user授权表。是非标准表。 
#### SCHEMA_PRIVILEGES（方案权限）
给出了关于方案（数据库）权限的信息。该信息来自mysql.db授权表。是非标准表。 
#### TABLE_PRIVILEGES（表权限）
给出了关于表权限的信息。该信息源自mysql.tables_priv授权表。是非标准表。 
#### COLUMN_PRIVILEGES（列权限）
给出了关于列权限的信息。该信息源自mysql.columns_priv授权表。是非标准表。 
#### CHARACTER_SETS（字符集）
提供了mysql实例可用字符集的信息。是SHOW CHARACTER SET结果集取之此表。 
#### COLLATIONS
提供了关于各字符集的对照信息。 
#### COLLATION_CHARACTER_SET_APPLICABILITY
指明了可用于校对的字符集。这些列等效于SHOW COLLATION的前两个显示字段。 
#### TABLE_CONSTRAINTS
描述了存在约束的表。以及表的约束类型。 
#### KEY_COLUMN_USAGE
描述了具有约束的键列。 
#### ROUTINES
提供了关于存储子程序（存储程序和函数）的信息。此时，ROUTINES表不包含自定义函数（UDF）。名为“mysql.proc name”的列指明了对应于INFORMATION_SCHEMA.ROUTINES表的mysql.proc表列。 
#### VIEWS
给出了关于数据库中的视图的信息。需要有show views权限，否则无法查看视图信息。 
#### TRIGGERS
提供了关于触发程序的信息。必须有super权限才能查看该表。

## SQLServer

## Oracle

## DB2

## Hive



